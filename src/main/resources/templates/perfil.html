<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="/fragments/head :: head"></head>

<body>

    <nav th:replace="/fragments/navbar-perfil :: nav"></nav>

    <!-- informacion del perfil -->
    <div class="col-lg-12 col-md-12 col-sm-12 pb-1 d-flex justify-content-center">
        <div class="product-item bg-light mb-4">
            <div class=" position-relative overflow-hidden">
                <img class="img-thumbnail" th:src="@{/imagen/perfil/__${session.usuariosession.id}__}" alt=""
                    height="350px" width="450px">
                <h2 class="d-flex justify-content-center align-items-center "
                    th:text=" ${session.usuariosession.name} "></h2>
                <div class="card">
                    <button class="button Explore"><svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"
                            class="svg">
                            <g id="Layer_2" data-name="Layer 2">
                                <g id="invisible_box" data-name="invisible box">
                                    <rect width="48" height="48" fill="none"></rect>
                                </g>
                                <g id="icons_Q2" data-name="icons Q2">
                                    <path
                                        d="M24,2A22,22,0,1,0,46,24,21.9,21.9,0,0,0,24,2ZM34.7,14.7,28,28,14.7,34.7a1.1,1.1,0,0,1-1.4-1.4L20,20l13.3-6.7A1.1,1.1,0,0,1,34.7,14.7ZM24,22a2,2,0,1,0,2,2A2,2,0,0,0,24,22Z">
                                    </path>
                                    <path d="M24,22a2,2,0,1,0,2,2A2,2,0,0,0,24,22Zm0,0a2,2,0,1,0,2,2A2,2,0,0,0,24,22Z">
                                    </path>
                                </g>
                            </g>
                        </svg>Perfil</button>

                    <button class="button Post"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="svg">
                            <path clip-rule="evenodd"
                                d="M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2ZM12 7C12.5523 7 13 7.44772 13 8V11H16C16.5523 11 17 11.4477 17 12C17 12.5523 16.5523 13 16 13H13V16C13 16.5523 12.5523 17 12 17C11.4477 17 11 16.5523 11 16V13H8C7.44772 13 7 12.5523 7 12C7 11.4477 7.44772 11 8 11H11V8C11 7.44772 11.4477 7 12 7Z">
                            </path>
                        </svg>Publicar</button>

                    <button class="button Chat"><svg viewBox="0 0 20 20" version="1.1"
                            xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="svg">
                            <g id="Dribbble-Light-Preview" transform="translate(-140.000000, -999.000000)">
                                <g id="icons" transform="translate(56.000000, 160.000000)">
                                    <path
                                        d="M97.1784026,840.884344 C92.8882915,837.134592 86.2359857,839.256228 84.7592414,844.817545 C84.139128,847.151543 84.7373784,848.235292 84.7373784,849.987037 C84.7373784,851.787636 84,854.395812 84,854.395812 C84,854.714855 84.2832249,855.025921 84.6320386,854.935194 C85.8792217,854.609172 87.8627895,853.964107 90.2349218,854.608175 C98.2119249,856.770688 103.330841,846.261214 97.1784026,840.884344 M103.447113,859 C103.395437,859 103.341773,858.993021 103.287115,858.979063 C96.9806421,857.395812 97.4039887,859.174477 93.8999507,858.237288 C92.8395967,857.954137 91.8746446,857.443669 91.0418642,856.781655 C97.4059763,857.561316 102.710728,852.016948 101.771614,845.487535 C102.732591,846.487535 103.438169,847.72582 103.7363,849.11266 C104.584981,853.048852 102.430484,852.38285 103.983749,858.364905 C104.075176,858.714855 103.765119,859 103.447113,859"
                                        id="messages_chat-[#1557]">

                                    </path>
                                </g>
                            </g>

                        </svg>Comentar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Crear publicacion -->


    <div class="container-fluid ">
        <h2 class="section-title position-relative text-uppercase mx-xl-5 mb-4">
            <span class="rounded bg-secondary pr-3 pl-3">Publicar</span>
        </h2>
        <div class="row px-xl-5 justify-content-center d-flex align-items-center ">
            <div class="col-lg-9 h-auto">
                <form th:action="@{/publicacion/publicar/__${session.usuariosession.id}__}" class="h-100 bg-light p-30"
                    method="POST" enctype="multipart/form-data">
                    <div class="input-group mb-3">
                        <div class="input-group-append">
                            <div class="btn-group">
                                <!-- <button type="button" class="btn btn-sm btn-primary dropdown-toggle "
                                    data-toggle="dropdown">Categoria</button>
                                <div class="dropdown-menu dropdown-menu-left bg-dark">
                                    <button class="dropdown-item" type="button"><a class="">Indumentaria</a></button>
                                    <button class="dropdown-item" type="button"><a class="">Calzado</a></button>
                                    <button class="dropdown-item" type="button"><a class="">Maquillaje</a></button>
                                    <button class="dropdown-item" type="button"><a class="">Accesorios</a></button>
                                </div> -->
                                <!-- Categoria de la publi -->
                                <div>
                                    <label for="categoria">Elige una Categoria</label>
                                    <select class="rounded btn-sm btn-primary dropdown-toggle" name="label">

                                        <option th:each="categoria : ${categorias}" th:value="${categoria}"
                                            th:text="${categoria}"></option>
                                    </select>
                                </div>


                            </div>
                        </div>
                    </div>

                    <!-- Imagen de la publi -->
                    <label class="custum-file-upload" for="file">
                        <div class="text">
                            <h5><span class="box-image">Ingrese una imagen</span></h5>
                        </div>
                        <input type="file" id="file" name="archivo" th:value="${archivo}">
                    </label>

                    <!-- Descripcion de la publi -->
                    <h5>Descripcion de la publicacion</h5>
                    <div class="form-group">
                        <input id="message" cols="30" rows="5" class="form-control" th:value="${content}"
                            name="content"></input>
                    </div>
                    <div class="form-group mb-0">
                        <button type="submit" class=" rounded btn btn-primary px-3">Publicar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>


    <!-- Publicaciones del diseÃ±ador-->
    <div class="container-fluid pt-5 pb-3">
        <h2 class="section-title position-relative text-uppercase mx-xl-5 mb-4">
            <span class="rounded bg-secondary pr-3 pl-3">Publicaciones</span>
        </h2>
        <div class="row px-xl-5">
            <div th:each="publicacion : ${publicaciones}" class="col-lg-3 col-md-4 col-sm-6 pb-1">
                <div class="product-item bg-light mb-4">
                    <div class="product-img position-relative overflow-hidden">
                        <img class="img-thumbnail w-100" th:src="@{/imagen/publicacion/__${publicacion.id}__}" alt="">
                        <div class="product-action">
                            <a class="btn btn-outline-dark btn-square" href=""><i class="far fa-heart"></i></a>
                            <a class="btn btn-outline-dark btn-square"
                                th:href="@{/publicacion/detail/__${publicacion.id}__}"><i class="">ir</i></a>
                            <a class="btn btn-outline-dark btn-square" th:href="@{/report}">
                                <i class="fa fa-exclamation"></i></a>
                        </div>
                    </div>
                    <div class="text-center py-4">
                        <a class="h6 text-decoration-none text-truncate" href=""></a>
                        <div class="d-flex align-items-center justify-content-center mt-2">
                            <label for="meGustas">Me Gustas: </label>
                            <h5 th:text="${publicacion.likes}" name="meGustas"></h5>
                        </div>
                        <div class="d-flex align-items-center justify-content-center mb-1">
                            <a class="btn btn-outline-dark btn-square" href=""><i class="far fa-heart"></i></a>
                            <a class="btn btn-outline-dark btn-square"
                                th:href="@{/publicacion/detail/__${publicacion.id}__}"><i class="">ir</i></a>
                            <a class="btn btn-outline-dark btn-square" th:href="@{/report}">
                                <i class="fa fa-exclamation"></i>
                            </a>
                            <div  th:if="${__${publicacion.user.id}__ == #session.usuariosession.id}">
                                <a class="btn btn-outline-dark btn-square" sec:authorize="hasRole('DESIGNER')" target="_self" th:href="@{/publicacion/eliminar/__${publicacion.id}__}"><i class="fa fa-trash"></i>Eliminar</a>
                            </div>
                                                
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer th:replace="/fragments/footer :: footer"> </footer>

    <a href="#" class="btn btn-primary back-to-top"><i class="fa fa-angle-double-up"></i></a>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="mail/jqBootstrapValidation.min.js"></script>
    <script src="mail/contact.js"></script>
    <script src="mail/jqBootstrapValidation.min.js"></script>
    <script src="mail/contact.js"></script>
    <script src="js/main.js"></script>
</body>

</html>